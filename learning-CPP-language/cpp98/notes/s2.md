# C++语言对C语言的改进及拓展

## 输入和输出的控制-I/O流

流:数据从一个对象到另一个对象的流动抽象;使用前创建,使用后删除

### 输入范式1:cin>>变量

cin-系统预定义的流对象;用来处理标准输入,即键盘输入

\>\> :提取符

该范式无法将带有空白符的内容输入到一个变量

### 输入范式2: getline(cin,变量)

该范式可以接受带有空白符

### 输入范式3:cin.getline(char* s, streamsize n, char delim )

第一个参数:字符指针

第二个参数:字符的数量

第三份参数:可选参数,指定终止符

### 输出范式1:cout<<变量

cout-.....                   ;用来处理标准输出,即屏幕输出

<<: 插入符

### 格式控制的操纵符

boolalpha: 输入输出操作中控制布尔值的表示形式;使bool类型以true和false输出

noboolalpha:关闭以上的设置

## bool类型

true-真

false-假

> 逻辑运算和关系运算都产生bool的结果

> 默认情况下,bool表达式的值输出为0|1

## 注释

1. /**/ 不能相互嵌套
2. 单独// | //和/**/之间可以嵌套注释

## 名字空间

### 定义范式:namespace 名字空间名称{...}

> 没有分号

### 使用范式:名字空间::局部内容名

### 使用范式: using namespace 名字空间;

> 可以直接使用,不在需要名字空间和::

### 使用范式:using 名字空间::局部内容名

> 改内容不需要名字空间名+域解析符;其他的内容名还是需要

## string类型

### 常见的操作

#### 1.求字符串长度:字符串.length()

#### 2.字符串的拼接:字符串+字符串

> +:右侧可以是一个string串,C风格的字符串或char字符

#### 3.字符串的插入:字符串.insert(num,string)

#### 4. 字符串的替换:字符串.replace(start,length,string)

#### 5.字符串的去除:字符串.substr(start,length)

#### 6.寻找字串:字符串.find(string)

#### 7.字符串的删除:字符串.erase(start,length)

### C语言风格字符串和string字符串相互转换

#### 转化为string字符串:字符串 = C风格字符串,字符

#### 转化为C语言风格字符串:字符串.c_str()

## 扩大全局变量的作用域

### 范式:  ::全局变量

> 只有全局变量前可以使用:: ;局部变量不可以使用

### 形式参数带有默认值

#### 范式1:声明中提供默认值

#### 范式2:函数首部中提供默认值

> 默认参数一定在最右侧
>
> 声明和函数首部只能有一处出现默认值(C语言的函数声明现在算作有0个默认值)
>
> 推荐:范式1

## 函数重载

函数重载:对于功能完全相同或类似,只是形式参数的个数,类型,顺序方面有区别的不同函数,可以用相同的函数名命名

> 重载函数必须在形参的 **个数,类型,顺序**某一个方面有所不同,返回值类型不是区分重载函数的要素
>
> 重载函数与带有默认值的函数(形式相似的)一起使用，有可能导致二义性
>
> 函数调用时，如果给出实际参数和形式参数类型不符合，会进行自动类型转换

## 引用

### 声明引用的格式:数据类型 &引用名=一个已知的对象

> 引用本质是对对象的间接引用，对象可以是变量,常量,字面值常量
>
> 引用时，需要初始化，且后期不可更改
>
> 不能存在void的引用,引用的引用,指向引用的指针,引用数组

### 引用作为函数的参数:...(..,数据类型 &x)

### 常引用作为函数的参数:...(...,数据类型 &x)

### 引用作为返回值:数据类型& 函数名(..,引用,..)

> 在此条件下，函数可以作为左值使用
>
> 返回值:变量不能是函数体的局部变量，常量或者表达式，也不能是常引用

## 动态空间内存管理

### 申请动态内存的范式:指针=new 基本数据类型[]|new 基本数据类型

> 多维数组:数组指针+循环
>
> **判断是否申请成功**

### 释放内存的范式:delete 基本数据类型|[]基本数据类型



## 异常处理

### 异常的分类

![image-20250305200226448](D:\github\learning-logs\learning-CPP-language\cpp98\notes\s2.assets\image-20250305200226448.png)



### 异常的处理

#### 检查异常:try{}

#### 抛出异常:throw 对象;

#### 捕捉异常:catch(){}

> 只能有一个try语句，但是可以有多个catch块

## 错题

1. string a(8,"A");
